var e=Object.defineProperty,t=(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i);import{S as n,P as i,W as o,O as s,T as a,a as l,b as r,M as d,c as u,d as p,e as c,f as m}from"./vendor.8f320445.js";let g=null,h=1;let w=[0,25e5,8e6],f=!1,y=!0,x=!0,M=!1,I=[];class b{constructor(e,n,i,o,s,a,l,r,d,u,p){t(this,"name"),t(this,"radius"),t(this,"detail"),t(this,"color"),t(this,"startingX"),t(this,"startingY"),t(this,"startingZ"),t(this,"isStar"),t(this,"speed"),t(this,"clockwise"),t(this,"model"),t(this,"guideLine"),t(this,"angle"),t(this,"textureMap"),t(this,"oldX"),t(this,"oldY"),t(this,"oldZ"),this.name=e,this.radius=n,this.detail=i,this.color=o,this.startingX=s,this.startingY=a,this.startingZ=l,this.isStar=r,this.speed=d,this.clockwise=u,this.textureMap=p,this.model=null==p?B(n,i,o,s,a,l,r):B(n,i,null,s,a,l,r,p),this.guideLine=this.createGuideLine()}createGuideLine(){let e=new r(this.startingX,this.radius/10,10,2e3),t=new d({color:this.color}),n=new u(e,t);return n.rotation.x=.5*Math.PI,n.position.set(0,0,0),n}showGuideLine(){v.add(this.guideLine)}}const v=new n,j=new i(40,window.innerWidth/window.innerHeight,.1,5e12),E=new o({canvas:document.querySelector("#bg"),antialias:!0,logarithmicDepthBuffer:!0});E.setPixelRatio(window.devicePixelRatio),E.setSize(window.innerWidth,window.innerHeight),j.position.set(w[0],w[1],w[2]),E.render(v,j);let L=document.getElementById("add-planet-menu-container");L.style.display=M?"flex":"none";let X=document.getElementById("container");X.style.display=x?"flex":"none";const k=new s(j,E.domElement),S=(new a).load("./assets/space-background8.jpg",(()=>{const e=new l(S.image.height);e.fromEquirectangularTexture(E,S),v.background=e.texture}));function B(e,t,n,i,o,s,a,l){let r=new p(e,t,t),g=new c({color:n,map:l});a&&(g=new d({color:n,map:l}));let h=new u(r,g);if(h.position.set(i,o,s),a){let e=new m(a);e.position.set(i,o,s),v.add(e)}return v.add(h),h}let P=Math.floor(22e6*Math.random());function z(e,t,n,i,o,s,a,l,r,d,u){let p=new b(e,t/1,n,i,o/1,s,a,l,r,d,u);return l||I.push(p),p}let Y=z("Sun",696e3,40,11184640,0,0,0,!0,0,null,(new a).load("./assets/sun-map.jpg"));z("Mercury",2440,20,7829367,5791e4,0,0,!1,88,!1,(new a).load("./assets/mercury-map.jpg")),z("Venus",6052,20,8009756,1082e5,0,0,!1,225,!0,(new a).load("./assets/venus-map.jpg")),z("Earth",6371,20,2375241,1496e5,0,0,!1,365,!1,(new a).load("./assets/earth-map2.jpg")),z("Mars",3390,20,11297609,2279e5,0,0,!1,687,!1,(new a).load("./assets/mars-map.jpg")),z("Jupiter",69911,20,8949913,7785e5,0,0,!1,4332,!1,(new a).load("./assets/jupiter-map.jpg")),z("Saturn",58232,20,11702623,1434e6,0,0,!1,10757,!1,(new a).load("./assets/saturn-map.jpg")),z("Uranus",25362,20,9351876,2871e6,0,0,!1,30687,!1,(new a).load("./assets/uranus-map.jpg")),z("Neptune",24622,20,4612854,4495e6,0,0,!1,60190,!1,(new a).load("./assets/neptune-map.jpg"));let H=document.getElementById("planet-list-container");function T(e){let t=document.createElement("div");t.className="planet-list-item-container button",t.innerHTML=e.name,t.style.backgroundColor="#"+e.color.toString(16),t.onclick=function(){if(e.name==Y.name)return g=null,k.target=Y.model.position,void j.position.set(w[0],w[1],w[2]);g=e.name,f=!0},H.appendChild(t)}T(Y);for(let O=0;O<I.length;O++)T(I[O]);function Z(e){for(let t=0;t<I.length;t++)if(I[t].name==e)return I[t]}let G=document.getElementById("timeSlider");var q=document.getElementById("timeSliderOutput");if(q.innerHTML=G.value,G.oninput=function(){q.innerHTML=this.value,h=parseInt(this.value)},y)for(let O=0;O<I.length;O++)I[O].showGuideLine();document.getElementById("guidelines-toggle-button").onclick=function(){for(let e=0;e<I.length;e++)y?v.remove(I[e].guideLine):v.add(I[e].guideLine);y=!y},document.getElementById("add-planet-toggle-button").onclick=function(){M=!M,L.style.display=M?"flex":"none"},document.getElementById("ui-toggle-button").onclick=function(){x=!x,X.style.display=x?"flex":"none"},function e(){requestAnimationFrame(e),k.update(),function(e){P+=h;for(let t=0;t<e.length;t++){let n=e[t];n.oldX=n.model.position.x,n.oldY=n.model.position.y,n.oldZ=n.model.position.z,n.angle=P/n.speed%360,n.clockwise?n.model.position.set(Math.cos(n.angle/180*Math.PI)*n.startingX,n.startingY,Math.sin(n.angle/180*Math.PI)*n.startingX):n.model.position.set(Math.sin(n.angle/180*Math.PI)*n.startingX,n.startingY,Math.cos(n.angle/180*Math.PI)*n.startingX)}}(I),f&&function(){if(null==g)return;let e=Z(g),t=5*e.radius,n=(e.startingX-t)/e.startingX,i=[e.model.position.x*n,e.radius,e.model.position.z*n];h=0,j.position.x+=(i[0]-j.position.x)/50,j.position.y+=(i[1]-j.position.y)/50,j.position.z+=(i[2]-j.position.z)/50,i[0]-j.position.x<=100&&i[0]-j.position.x>=-100&&(f=!1,h=parseInt(G.value))}(),null!=g&&function(e){let t=Z(e);k.target=t.model.position,j.position.x+=t.model.position.x-t.oldX,j.position.y+=t.model.position.y-t.oldY,j.position.z+=t.model.position.z-t.oldZ}(g),Y.model.rotation.y+=.001,E.render(v,j)}();
